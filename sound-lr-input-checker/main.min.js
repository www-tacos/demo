function micInputActivate(){return __awaiter(this,void 0,void 0,function(){var t,e,n,i;return __generator(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 1:return t=u.sent(),e=new window.AudioContext,n=e.createScriptProcessor(1024,1,1),n.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0),n=e.reduce(function(t,e){var n=Math.abs(e);return t>n?t:n});meterMicInputLevel.value=100*n},n.connect(e.destination),i=e.createMediaStreamSource(t),i.connect(n),[2]}})})}var pTitle,divLR,divButtonLeft,divButtonRight,divMicInput,buttonMicInputActivate,meterMicInputLevel,audioLeft,audioRight,__awaiter=this&&this.__awaiter||function(t,e,n,i){function u(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,a){function o(t){try{r(i.next(t))}catch(t){a(t)}}function c(t){try{r(i.throw(t))}catch(t){a(t)}}function r(t){t.done?n(t.value):u(t.value).then(o,c)}r((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(u)throw new TypeError("Generator is already executing.");for(;c&&(c=0,n[0]&&(r=0)),r;)try{if(u=1,a&&(o=2&n[0]?a.return:n[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){r.label=n[1];break}if(6===n[0]&&r.label<o[1]){r.label=o[1],o=n;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(n);break}o[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(t){n=[6,t],a=0}finally{u=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var u,a,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},divMain=document.querySelector("div#main");divLR=document.createElement("div"),divButtonLeft=document.createElement("div"),divButtonRight=document.createElement("div"),divMicInput=document.createElement("div"),buttonMicInputActivate=document.createElement("button"),meterMicInputLevel=document.createElement("meter"),audioLeft=new Audio("./button59-left.mp3"),audioRight=new Audio("./button59-right.mp3"),divLR.appendChild(divButtonLeft),divLR.appendChild(divButtonRight),divLR.classList.add("lr-container"),divButtonLeft.classList.add("audio-play-button","bg-blue"),divButtonRight.classList.add("audio-play-button","bg-red"),divButtonLeft.textContent="L",divButtonRight.textContent="R",divButtonLeft.onclick=function(t){audioLeft.load(),audioLeft.play()},divButtonRight.onclick=function(t){audioRight.load(),audioRight.play()},divMicInput.appendChild(buttonMicInputActivate),divMicInput.appendChild(meterMicInputLevel),divMicInput.classList.add("mic-input-container"),buttonMicInputActivate.classList.add("mic-input"),meterMicInputLevel.classList.add("mic-input-level"),meterMicInputLevel.min=0,meterMicInputLevel.max=100,buttonMicInputActivate.onclick=micInputActivate,null==divMain||divMain.appendChild(divLR),null==divMain||divMain.appendChild(divMicInput);