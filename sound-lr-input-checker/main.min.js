function micInputActivate(){return __awaiter(this,void 0,void 0,function(){var t,e,n,i;return __generator(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.getUserMedia({audio:!0})];case 1:return t=u.sent(),e=new window.AudioContext,n=e.createScriptProcessor(1024,1,1),n.onaudioprocess=function(t){var e=t.inputBuffer.getChannelData(0),n=e.reduce(function(t,e){var n=Math.abs(e);return t>n?t:n});meterMicInputLevel.value=100*n},n.connect(e.destination),i=e.createMediaStreamSource(t),i.connect(n),[2]}})})}var pTitle,divLR,divButtonLeft,divButtonRight,divMicInput,buttonMicInputActivate,meterMicInputLevel,audioLeft,audioRight,__awaiter=this&&this.__awaiter||function(t,e,n,i){function u(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,a){function c(t){try{r(i.next(t))}catch(t){a(t)}}function o(t){try{r(i.throw(t))}catch(t){a(t)}}function r(t){t.done?n(t.value):u(t.value).then(c,o)}r((i=i.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(u)throw new TypeError("Generator is already executing.");for(;o&&(o=0,n[0]&&(r=0)),r;)try{if(u=1,a&&(c=2&n[0]?a.return:n[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,n[1])).done)return c;switch(a=0,c&&(n=[2&n[0],c.value]),n[0]){case 0:case 1:c=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!c||n[1]>c[0]&&n[1]<c[3])){r.label=n[1];break}if(6===n[0]&&r.label<c[1]){r.label=c[1],c=n;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(n);break}c[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(t){n=[6,t],a=0}finally{u=c=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var u,a,c,o,r={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},divMain=document.querySelector("div#main");divLR=document.createElement("div"),divButtonLeft=document.createElement("div"),divButtonRight=document.createElement("div"),divMicInput=document.createElement("div"),buttonMicInputActivate=document.createElement("button"),meterMicInputLevel=document.createElement("meter"),audioLeft=new Audio("./slack-ding-left.mp3"),audioRight=new Audio("./slack-ding-right.mp3"),divLR.appendChild(divButtonLeft),divLR.appendChild(divButtonRight),divLR.classList.add("lr-container"),divButtonLeft.classList.add("audio-play-button","bg-blue"),divButtonRight.classList.add("audio-play-button","bg-red"),divButtonLeft.textContent="L",divButtonRight.textContent="R",divButtonLeft.onclick=function(t){audioLeft.currentTime=0,audioLeft.play()},divButtonRight.onclick=function(t){audioRight.currentTime=0,audioRight.play()},divMicInput.appendChild(buttonMicInputActivate),divMicInput.appendChild(meterMicInputLevel),divMicInput.classList.add("mic-input-container"),buttonMicInputActivate.classList.add("mic-input"),meterMicInputLevel.classList.add("mic-input-level"),meterMicInputLevel.min=0,meterMicInputLevel.max=100,buttonMicInputActivate.onclick=micInputActivate,null==divMain||divMain.appendChild(divLR),null==divMain||divMain.appendChild(divMicInput);